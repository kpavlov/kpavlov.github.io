<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Gwt on The Culture of Code</title>
    <link>https://konstantinpavlov.net/tags/gwt/index.xml</link>
    <description>Recent content in Gwt on The Culture of Code</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="https://konstantinpavlov.net/tags/gwt/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>GWT is about to add Native JSON function support in version 2.1</title>
      <link>https://konstantinpavlov.net/blog/2010/07/22/gwt-is-about-to-add-native-json-function-support-in-version-2.1/</link>
      <pubDate>Thu, 22 Jul 2010 17:20:00 +0000</pubDate>
      
      <guid>https://konstantinpavlov.net/blog/2010/07/22/gwt-is-about-to-add-native-json-function-support-in-version-2.1/</guid>
      <description>&lt;p&gt;GWT 2.1 has reached Milestone 2.
One of the new features in version 2.1 is support for browser&amp;rsquo;s native JSON function in &lt;code&gt;JSONParser&lt;/code&gt; class.

Now there are three methods JSONParser which may be used to parse JSON string:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;JSONParser.parseNative(String)&lt;/code&gt; - Uses native JSON browser&amp;rsquo;s function, if browser supports it&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSONParser.parseLanient(String)&lt;/code&gt; - Uses browser&amp;rsquo;s eval() function&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSONParser.parse(String)&lt;/code&gt; - Old method that is still supported and actually calls &lt;code&gt;JSONParser.parseLanient()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Under Google Chrome &lt;code&gt;parseNative()&lt;/code&gt; works usually 30-50% faster than &lt;code&gt;parseLanient()&lt;/code&gt;: 450 vs 800 ms for parsing json string 10000 times.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Chrome Native JSON Test:
------------------------
JSON src length=3467 chars; 10000 iterations.
Native JSON time: 1692ms
Parser Native JSON time: 1728ms
Parser Lanient JSON time: 853ms
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Under Firefox, results are different from time to time (from 80 to 200ms).
Native function may be 2 times faster or 2 times slower.
So it seems there will be no significant speedup using native under Firefox.&lt;/p&gt;

&lt;p&gt;But anyway, Firefox has faster evaluate json than Chrome.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Firefox Native JSON Test:
-------------------------
JSON src length=3467 chars; 10000 iterations.
Native JSON time: 1224ms
Parser Native JSON time: 1208ms
Parser Lanient JSON time: 974ms
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Using new function has sense for browser like Chrome where performance can be improved.&lt;/p&gt;

&lt;p&gt;P.S. All measurements are valid on June 2010&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>